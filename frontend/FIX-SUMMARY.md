# ğŸ”§ Vue å‰ç«¯é¡¹ç›®ä¿®å¤å®Œæˆ

## âŒ é—®é¢˜æè¿°
```
Failed to load url /src/api/auth (resolved id: E:/code/smc/SoulChat/frontend/src/api/auth) in E:/code/smc/SoulChat/frontend/src/stores/user.js. Does the file exist?
```

## âœ… é—®é¢˜åŸå› 
åœ¨åˆ›å»º Vue é¡¹ç›®æ—¶ï¼ŒAPI æ¨¡å—è¢«åˆ›å»ºä¸º `@/api/index.js`ï¼Œä½†åœ¨ stores æ–‡ä»¶ä¸­é”™è¯¯åœ°å¼•ç”¨äº† `@/api/auth` å’Œ `@/api/chat`ã€‚

## ğŸ”§ ä¿®å¤å†…å®¹

### 1. ä¿®å¤ stores/user.js
```javascript
// ä¿®å¤å‰
import { authAPI } from '@/api/auth'

// ä¿®å¤å  
import { authAPI } from '@/api'
```

### 2. ä¿®å¤ stores/chat.js
```javascript
// ä¿®å¤å‰
import { chatAPI } from '@/api/chat'

// ä¿®å¤å
import { chatAPI } from '@/api'
```

### 3. éªŒè¯å…¶ä»–æ–‡ä»¶
- âœ… `views/UserProfile.vue` - å¯¼å…¥è·¯å¾„æ­£ç¡®
- âœ… `views/Profile.vue` - ä½¿ç”¨ userStoreï¼Œæ— éœ€ç›´æ¥å¯¼å…¥ API
- âœ… `views/Chat.vue` - ä½¿ç”¨ storesï¼Œæ— éœ€ç›´æ¥å¯¼å…¥ API
- âœ… `views/Login.vue` - ä½¿ç”¨ userStoreï¼Œæ— éœ€ç›´æ¥å¯¼å…¥ API
- âœ… `views/Register.vue` - ä½¿ç”¨ userStoreï¼Œæ— éœ€ç›´æ¥å¯¼å…¥ API

## ğŸ“ æ­£ç¡®çš„é¡¹ç›®ç»“æ„

```
frontend/src/
â”œâ”€â”€ api/
â”‚   â””â”€â”€ index.js          # ç»Ÿä¸€çš„ API æ¨¡å—
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ user.js           # ç”¨æˆ·çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ chat.js           # èŠå¤©çŠ¶æ€ç®¡ç†
â”œâ”€â”€ views/                # é¡µé¢ç»„ä»¶
â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â””â”€â”€ router/               # è·¯ç”±é…ç½®
```

## ğŸ¯ API æ¨¡å—ç»“æ„

`src/api/index.js` å¯¼å‡ºï¼š
- `authAPI` - è®¤è¯ç›¸å…³æ¥å£
- `chatAPI` - èŠå¤©ç›¸å…³æ¥å£
- `api` - axios å®ä¾‹

## âœ… ä¿®å¤éªŒè¯

### 1. å¯¼å…¥è·¯å¾„æ£€æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰ API å¯¼å…¥
grep -r "import.*@/api/" src/
# ç»“æœï¼šæ— é”™è¯¯å¯¼å…¥
```

### 2. ä¾èµ–å®‰è£…
```bash
cd frontend
npm install
# âœ… ä¾èµ–å®‰è£…æˆåŠŸ
```

### 3. é¡¹ç›®å¯åŠ¨æµ‹è¯•
```bash
npm run dev
# âœ… å¼€å‘æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ
```

## ğŸš€ æµ‹è¯•é¡µé¢

æ·»åŠ äº†æµ‹è¯•é¡µé¢ `/test` ç”¨äºéªŒè¯ä¿®å¤ç»“æœï¼š
- API æ¨¡å—å¯¼å…¥æµ‹è¯•
- é¡¹ç›®çŠ¶æ€æ£€æŸ¥
- ä¸‹ä¸€æ­¥æ“ä½œæŒ‡å¯¼

## ğŸ“‹ å®Œæ•´åŠŸèƒ½åˆ—è¡¨

### âœ… å·²ä¿®å¤åŠŸèƒ½
1. **API å¯¼å…¥è·¯å¾„** - ç»Ÿä¸€ä½¿ç”¨ `@/api`
2. **æ¨¡å—ä¾èµ–** - æ­£ç¡®çš„æ¨¡å—å¼•ç”¨å…³ç³»
3. **é¡¹ç›®ç»“æ„** - æ¸…æ™°çš„æ–‡ä»¶ç»„ç»‡ç»“æ„
4. **ä¾èµ–å®‰è£…** - æ‰€æœ‰ä¾èµ–æ­£ç¡®å®‰è£…

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
1. **ç”¨æˆ·è®¤è¯** - ç™»å½•/æ³¨å†Œ/æƒé™æ§åˆ¶
2. **å®æ—¶èŠå¤©** - WebSocket + Protobuf
3. **çŠ¶æ€ç®¡ç†** - Pinia stores
4. **è·¯ç”±ç®¡ç†** - Vue Router
5. **UI ç»„ä»¶** - Element Plus

## ğŸ” ä¸‹ä¸€æ­¥æµ‹è¯•

1. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   cd ../
   kratos run
   ```

2. **å¯åŠ¨å‰ç«¯æœåŠ¡**
   ```bash
   cd frontend
   npm run dev
   ```

3. **è®¿é—®æµ‹è¯•é¡µé¢**
   ```
   http://localhost:3000/test
   ```

4. **æµ‹è¯•å®Œæ•´åŠŸèƒ½**
   - è®¿é—® `http://localhost:3000/login`
   - æµ‹è¯•æ³¨å†Œ/ç™»å½•
   - æµ‹è¯•èŠå¤©åŠŸèƒ½
   - æµ‹è¯• WebSocket è¿æ¥

## ğŸ‰ ä¿®å¤å®Œæˆï¼

ç°åœ¨ä½ çš„ Vue å‰ç«¯é¡¹ç›®å·²ç»å®Œå…¨ä¿®å¤ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼

- âœ… å¯¼å…¥è·¯å¾„é”™è¯¯å·²ä¿®å¤
- âœ… é¡¹ç›®ç»“æ„å®Œæ•´
- âœ… ä¾èµ–å®‰è£…å®Œæˆ
- âœ… å¼€å‘æœåŠ¡å™¨å¯æ­£å¸¸å¯åŠ¨

å¯ä»¥å¼€å§‹è¿›è¡Œå…¨æ ˆå¼€å‘äº†ï¼ğŸš€
